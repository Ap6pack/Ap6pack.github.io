<!--
  Copyright (c) 2025 Veritas Aequitas Holdings LLC. All rights reserved.
  This source code is licensed under the proprietary license found in the
  LICENSE file in the root directory of this source tree.

  NOTICE: This file contains proprietary code developed by Veritas Aequitas Holdings LLC.
  Unauthorized use, reproduction, or distribution is strictly prohibited.
  For inquiries, contact: contact@veritasandaequitas.com
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tech Newsletter Archive</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #2563eb;
            --secondary-color: #1e40af;
            --background-color: #f8fafc;
            --text-color: #1e293b;
            --card-bg: #ffffff;
            --border-color: #e2e8f0;
            --hover-color: #dbeafe;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --primary-color: #3b82f6;
                --secondary-color: #60a5fa;
                --background-color: #0f172a;
                --text-color: #e2e8f0;
                --card-bg: #1e293b;
                --border-color: #334155;
                --hover-color: #1e40af;
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            color: var(--primary-color);
        }

        .subtitle {
            font-size: 1.2rem;
            color: var(--text-color);
            opacity: 0.8;
        }

        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 2rem;
            border-bottom: 1px solid var(--border-color);
        }

        .tab {
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .tab.active {
            border-bottom: 3px solid var(--primary-color);
            color: var(--primary-color);
        }

        .tab:hover:not(.active) {
            border-bottom: 3px solid var(--border-color);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .latest-section {
            margin-bottom: 3rem;
        }

        .card {
            background-color: var(--card-bg);
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
        }

        .card-title {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        .card-links {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            padding: 0.5rem 1rem;
            background-color: var(--primary-color);
            color: white;
            border-radius: 4px;
            text-decoration: none;
            font-weight: 500;
            transition: background-color 0.3s ease;
        }

        .btn:hover {
            background-color: var(--secondary-color);
        }

        .btn i {
            margin-right: 0.5rem;
        }

        .archive-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .archive-card {
            background-color: var(--card-bg);
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .archive-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
            background-color: var(--hover-color);
        }

        .archive-date {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        .archive-links {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .archive-link {
            display: inline-flex;
            align-items: center;
            color: var(--primary-color);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .archive-link:hover {
            color: var(--secondary-color);
            text-decoration: underline;
        }

        .archive-link i {
            margin-right: 0.5rem;
            font-size: 0.9rem;
        }

        footer {
            text-align: center;
            margin-top: 3rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border-color);
            color: var(--text-color);
            opacity: 0.8;
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .tabs {
                flex-direction: column;
                align-items: center;
            }

            .archive-list {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Tech Newsletter Archive</h1>
            <p class="subtitle">Your source for the latest in AI, cybersecurity, and technology news</p>
        </header>

        <div class="tabs">
            <div class="tab active" data-tab="latest">Latest Editions</div>
            <div class="tab" data-tab="archive">Archive</div>
        </div>

        <div id="latest" class="tab-content active">
            <section class="latest-section">
                <div class="card">
                    <h2 class="card-title">Latest Professional Newsletter</h2>
                    <div class="card-links">
                        <a href="newsletter_pro.html" class="btn"><i class="fas fa-newspaper"></i> View HTML</a>
                        <a href="newsletter_pro.md" class="btn"><i class="fas fa-file-alt"></i> View Markdown</a>
                    </div>
                </div>

                <div class="card">
                    <h2 class="card-title">Latest Meme Newsletter</h2>
                    <div class="card-links">
                        <a href="newsletter_meme.html" class="btn"><i class="fas fa-newspaper"></i> View HTML</a>
                        <a href="newsletter_meme.md" class="btn"><i class="fas fa-file-alt"></i> View Markdown</a>
                    </div>
                </div>
            </section>
        </div>

        <div id="archive" class="tab-content">
            <div class="archive-list" id="archive-container">
                <!-- Archive items will be loaded here via JavaScript -->
                <div class="archive-card">
                    <div class="archive-date">Loading archives...</div>
                </div>
            </div>
        </div>

        <footer>
            <p>&copy; <span id="current-year"></span> Tech Newsletter. Generated with AI-powered newsletter automation.</p>
        </footer>
    </div>

    <script>
        // Set current year in footer
        document.getElementById('current-year').textContent = new Date().getFullYear();

        // Tab functionality
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');

        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const tabId = tab.getAttribute('data-tab');

                // Remove active class from all tabs and contents
                tabs.forEach(t => t.classList.remove('active'));
                tabContents.forEach(c => c.classList.remove('active'));

                // Add active class to clicked tab and corresponding content
                tab.classList.add('active');
                document.getElementById(tabId).classList.add('active');

                // Load archive data if archive tab is clicked
                if (tabId === 'archive') {
                    loadArchiveData();
                }
            });
        });

        // Function to load archive data
        function loadArchiveData() {
            fetch('archive/index.json')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Archive index not found');
                    }
                    return response.json();
                })
                .then(data => {
                    const archiveContainer = document.getElementById('archive-container');
                    archiveContainer.innerHTML = '';

                    if (data.newsletters && data.newsletters.length > 0) {
                        data.newsletters.forEach(newsletter => {
                            const card = document.createElement('div');
                            card.className = 'archive-card';

                            const date = new Date(newsletter.date);
                            const formattedDate = date.toLocaleDateString('en-US', {
                                year: 'numeric',
                                month: 'long',
                                day: 'numeric'
                            });

                            card.innerHTML = `
                                <div class="archive-date">${formattedDate}</div>
                                <div class="archive-links">
                                    <a href="archive/${newsletter.pro_html}" class="archive-link">
                                        <i class="fas fa-newspaper"></i> Professional Newsletter (HTML)
                                    </a>
                                    <a href="archive/${newsletter.pro_md}" class="archive-link">
                                        <i class="fas fa-file-alt"></i> Professional Newsletter (MD)
                                    </a>
                                    <a href="archive/${newsletter.meme_html}" class="archive-link">
                                        <i class="fas fa-newspaper"></i> Meme Newsletter (HTML)
                                    </a>
                                    <a href="archive/${newsletter.meme_md}" class="archive-link">
                                        <i class="fas fa-file-alt"></i> Meme Newsletter (MD)
                                    </a>
                                </div>
                            `;

                            archiveContainer.appendChild(card);
                        });
                    } else {
                        archiveContainer.innerHTML = '<div class="archive-card"><div class="archive-date">No archived newsletters found</div></div>';
                    }
                })
                .catch(error => {
                    console.error('Error loading archive data:', error);
                    const archiveContainer = document.getElementById('archive-container');
                    archiveContainer.innerHTML = `<div class="archive-card"><div class="archive-date">Error loading archives: ${error.message}</div></div>`;
                });
        }
    </script>
</body>
</html>
